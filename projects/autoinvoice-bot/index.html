<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AutoInvoice Bot | Mark M. Orwa</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        bg: '#050510',
                        neon: { cyan: '#00f3ff', purple: '#bc13fe', blue: '#0066ff' },
                    },
                    fontFamily: {
                        orbitron: ['Orbitron', 'sans-serif'],
                        inter: ['Inter', 'sans-serif'],
                    },
                },
            },
        }
    </script>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Orbitron:wght@400;700&display=swap"
        rel="stylesheet">
    <style>
        body {
            background-color: #050510;
            font-family: 'Inter', sans-serif;
        }

        h1,
        h2,
        h3 {
            font-family: 'Orbitron', sans-serif;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        input,
        select {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            padding: 0.5rem;
            border-radius: 0.5rem;
            width: 100%;
        }

        input:focus,
        select:focus {
            outline: none;
            border-color: #00f3ff;
            box-shadow: 0 0 10px rgba(0, 243, 255, 0.2);
        }
    </style>
</head>

<body class="bg-bg text-white min-h-screen flex flex-col">
    <!-- Background Glows -->
    <div
        class="fixed top-[-20%] left-[-10%] w-[500px] h-[500px] bg-green-500/10 rounded-full blur-[120px] pointer-events-none">
    </div>

    <div class="container mx-auto px-4 py-8 flex-grow flex flex-col">
        <header class="flex justify-between items-center mb-8">
            <a href="../../skills/python-automation.html"
                class="text-cyan-400 hover:text-white transition-colors flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2">
                    <path d="M19 12H5M12 19l-7-7 7-7" />
                </svg>
                Back to Python Scripts
            </a>
            <h1
                class="text-2xl md:text-3xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-cyan-500">
                AUTO-INVOICE BOT
            </h1>
        </header>

        <main class="flex-grow flex flex-col md:flex-row gap-8">
            <!-- Form -->
            <div class="w-full md:w-1/2 glass-panel p-6 rounded-2xl h-fit">
                <h2 class="text-xl font-bold mb-6 text-green-400">Invoice Details</h2>
                <form id="invoiceForm" class="space-y-4">
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm text-gray-400 mb-1">Invoice #</label>
                            <input type="text" id="invNum" value="INV-2025-001">
                        </div>
                        <div>
                            <label class="block text-sm text-gray-400 mb-1">Date</label>
                            <input type="date" id="invDate">
                        </div>
                    </div>
                    <div>
                        <label class="block text-sm text-gray-400 mb-1">Client Name</label>
                        <input type="text" id="clientName" placeholder="e.g. Acme Corp">
                    </div>
                    <div>
                        <label class="block text-sm text-gray-400 mb-1">Service Description</label>
                        <input type="text" id="serviceDesc" placeholder="e.g. Web Development Services">
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <div>
                            <label class="block text-sm text-gray-400 mb-1">Hours / Qty</label>
                            <input type="number" id="qty" value="10">
                        </div>
                        <div>
                            <label class="block text-sm text-gray-400 mb-1">Rate ($)</label>
                            <input type="number" id="rate" value="150">
                        </div>
                    </div>
                    <button type="submit"
                        class="w-full py-3 rounded-lg bg-green-400/10 border border-green-400 text-green-400 hover:bg-green-400 hover:text-black font-bold transition-all mt-4 flex items-center justify-center gap-2">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                            stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" />
                            <polyline points="7 10 12 15 17 10" />
                            <line x1="12" y1="15" x2="12" y2="3" />
                        </svg>
                        GENERATE PDF
                    </button>
                </form>
            </div>

            <!-- Preview / Output -->
            <div
                class="w-full md:w-1/2 glass-panel p-6 rounded-2xl flex flex-col items-center justify-center min-h-[400px] relative">
                <div id="loading"
                    class="hidden absolute inset-0 bg-black/50 backdrop-blur-sm z-10 flex flex-col items-center justify-center rounded-2xl">
                    <div
                        class="w-12 h-12 border-4 border-green-400 border-t-transparent rounded-full animate-spin mb-4">
                    </div>
                    <span class="text-green-400 font-bold">Generating Invoice...</span>
                </div>

                <div id="previewPlaceholder" class="text-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="1" class="text-gray-600 mx-auto mb-4">
                        <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                        <polyline points="14 2 14 8 20 8"></polyline>
                        <line x1="16" y1="13" x2="8" y2="13"></line>
                        <line x1="16" y1="17" x2="8" y2="17"></line>
                        <polyline points="10 9 9 9 8 9"></polyline>
                    </svg>
                    <p class="text-gray-400">Fill details and click Generate to create PDF</p>
                </div>

                <iframe id="pdfPreview" class="w-full h-full rounded-lg hidden border border-white/10"></iframe>
            </div>
        </main>
    </div>

    <script>
        document.getElementById('invDate').valueAsDate = new Date();

        document.getElementById('invoiceForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            const loading = document.getElementById('loading');
            const preview = document.getElementById('pdfPreview');
            const placeholder = document.getElementById('previewPlaceholder');

            loading.classList.remove('hidden');

            // Simulate processing time
            await new Promise(r => setTimeout(r, 1500));

            const { jsPDF } = window.jspdf;
            const doc = new jsPDF();

            const invNum = document.getElementById('invNum').value;
            const date = document.getElementById('invDate').value;
            const client = document.getElementById('clientName').value || 'Client Name';
            const desc = document.getElementById('serviceDesc').value || 'Service';
            const qty = document.getElementById('qty').value;
            const rate = document.getElementById('rate').value;
            const total = qty * rate;

            // Design PDF
            doc.setFillColor(5, 5, 16); // Dark bg
            doc.rect(0, 0, 210, 297, 'F');

            doc.setTextColor(0, 243, 255); // Neon Cyan
            doc.setFontSize(22);
            doc.setFont('helvetica', 'bold');
            doc.text("INVOICE", 160, 20);

            doc.setTextColor(255, 255, 255);
            doc.setFontSize(12);
            doc.setFont('helvetica', 'normal');
            doc.text(`Invoice #: ${invNum}`, 160, 30);
            doc.text(`Date: ${date}`, 160, 36);

            doc.setFontSize(16);
            doc.setTextColor(0, 243, 255);
            doc.text("Mark M. Orwa", 20, 20);
            doc.setFontSize(10);
            doc.setTextColor(200, 200, 200);
            doc.text("Python Automation Specialist", 20, 26);
            doc.text("mark@example.com", 20, 32);

            doc.setDrawColor(0, 243, 255);
            doc.line(20, 45, 190, 45);

            doc.setFontSize(12);
            doc.setTextColor(255, 255, 255);
            doc.text("Bill To:", 20, 60);
            doc.setFontSize(14);
            doc.text(client, 20, 68);

            // Table Header
            doc.setFillColor(30, 30, 40);
            doc.rect(20, 85, 170, 10, 'F');
            doc.setFontSize(10);
            doc.setTextColor(0, 243, 255);
            doc.text("DESCRIPTION", 25, 91);
            doc.text("QTY", 120, 91);
            doc.text("RATE", 140, 91);
            doc.text("AMOUNT", 170, 91);

            // Table Row
            doc.setTextColor(255, 255, 255);
            doc.text(desc, 25, 105);
            doc.text(qty.toString(), 120, 105);
            doc.text(`$${rate}`, 140, 105);
            doc.text(`$${total.toFixed(2)}`, 170, 105);

            doc.line(20, 115, 190, 115);

            // Total
            doc.setFontSize(14);
            doc.text(`TOTAL: $${total.toFixed(2)}`, 160, 130, { align: 'right' });

            // Output
            const pdfData = doc.output('datauristring');
            preview.src = pdfData;

            loading.classList.add('hidden');
            placeholder.classList.add('hidden');
            preview.classList.remove('hidden');
        });
    </script>
</body>

</html>